<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>The Hevre Hatovim Inc.</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.3.1/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.25.6/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com/3.4.10"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Impact&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { 
      font-family: 'Inter', sans-serif; 
      background-color: #F0F2F5; 
      margin: 0;
    }
    #loading { 
      display: flex; 
      justify-content: center; 
      align-items: center; 
      height: 100vh; 
      color: #1877F2; 
    }
    #error { 
      text-align: center; 
      padding: 2rem; 
      color: #DC2626; 
    }
    .custom-button { 
      background-color: #1877F2; 
      color: white; 
      padding: 0.5rem 1.5rem; 
      border-radius: 6px; 
      font-weight: 600; 
      transition: background-color 0.2s ease; 
    }
    .custom-button:hover { 
      background-color: #1659C7; 
    }
    .card { 
      background: white; 
      border-radius: 8px; 
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); 
      padding: 1rem; 
      transition: box-shadow 0.2s ease; 
      height: 16rem; 
      display: flex; 
      flex-direction: column; 
      justify-content: space-between; 
    }
    .card:hover { 
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
    }
    .card-title { 
      font-size: 1.25rem; 
      font-weight: 600; 
      color: #1C2526; 
      margin-bottom: 0.5rem; 
      height: 4rem; 
      overflow: hidden; 
      display: -webkit-box; 
      -webkit-line-clamp: 2; 
      -webkit-box-orient: vertical; 
      text-align: center;
    }
    #auth-popup { 
      display: flex; 
      position: fixed; 
      top: 0; 
      left: 0; 
      width: 100%; 
      height: 100%; 
      background: rgba(0, 0, 0, 0.5); 
      z-index: 50; 
      justify-content: center; 
      align-items: center; 
    }
    #auth-popup.hidden { 
      display: none; 
    }
    .leadership-section { 
      background-color: white; 
      padding: 2rem 1rem; 
      border-top: 1px solid #E4E6EB; 
    }
    .leadership-title { 
      font-size: 1.5rem; 
      font-weight: 700; 
      color: #1C2526; 
      margin-bottom: 1.5rem; 
      text-align: center; 
    }
    .leadership-card { 
      background: white; 
      border-radius: 8px; 
      padding: 1rem; 
      text-align: center; 
    }
    .leader-image { 
      border-radius: 50%; 
      object-fit: cover; 
      border: 2px solid #E4E6EB; 
    }
    .logo { 
      font-family: 'Impact', sans-serif; 
      color: #000000; 
      font-weight: 700; 
      font-size: 1.75rem; 
      line-height: 1; 
      text-transform: uppercase; 
      position: relative; 
      letter-spacing: -0.05em;
      white-space: nowrap;
    }
    .logo::after { 
      content: ''; 
      position: absolute; 
      bottom: -4px; 
      right: 0; 
      width: 50%; 
      height: 4px; 
      background-color: #E50914; 
    }
    nav {
      position: relative;
      top: 0;
      width: 100%;
      z-index: 40;
    }
    @media (max-width: 639px) {
      nav {
        position: fixed;
      }
      .content-container {
        padding-top: 4rem; /* Adjust based on navbar height */
      }
      .logo { 
        font-size: 1.25rem; 
        line-height: 1.2;
      }
      .logo::after { 
        height: 3px; 
        width: 60%; 
      }
    }
    @media (min-width: 640px) {
      .leadership-section { padding: 3rem 1.5rem; }
      .leadership-title { font-size: 1.75rem; }
      .leadership-card { padding: 1.5rem; }
    }
  </style>
</head>
<body>
  <div id="root">
    <div id="loading" className="text-2xl">טוען...</div>
  </div>
  <script type="text/babel" data-presets="env,react">
    console.log('Babel script loaded, attempting to render React app...');

    const AuthPopup = () => {
      const [question, setQuestion] = React.useState(null);
      const [answer, setAnswer] = React.useState('');
      const [error, setError] = React.useState(false);

      const questions = [
        { question: 'כיצד נקראה הכלבה של יוסף קחלר?', answers: ['תותי'] },
        { question: 'מי המנהל השותף הנוסף חוץ מעמית לסרי?', answers: ['יוסף', 'קחלר', 'יוסף קחלר'] },
        { question: 'מי האבא הראשון בחברה?', answers: ['נתי', 'נתנאל'] },
        { question: 'מי מפקח הבחירות השנתי של החברה הטובים?', answers: ['חיים', 'מרקס', 'חיים מרקס'] },
      ];

      React.useEffect(() => {
        console.log('Selecting random question...');
        const randomIndex = Math.floor(Math.random() * questions.length);
        setQuestion(questions[randomIndex]);
      }, []);

      const handleSubmit = () => {
        console.log('handleSubmit triggered, answer:', answer);
        if (!question || !answer.trim()) {
          console.log('No question or empty answer');
          setError(true);
          return;
        }

        const isCorrect = question.answers.some(ans => {
          const normalizedAnswer = answer.trim().toLowerCase();
          const normalizedCorrect = ans.toLowerCase();
          console.log(`Comparing: user answer "${normalizedAnswer}" vs correct answer "${normalizedCorrect}"`);
          return normalizedAnswer === normalizedCorrect;
        });

        if (isCorrect) {
          console.log('Correct answer, hiding popup');
          const popup = document.getElementById('auth-popup');
          if (popup) {
            popup.classList.add('hidden');
          } else {
            console.error('Popup element not found');
          }
          setError(false);
        } else {
          console.log('Incorrect answer');
          setError(true);
        }
      };

      const handleKeyPress = (e) => {
        if (e.key === 'Enter') {
          console.log('Enter key pressed, triggering handleSubmit');
          handleSubmit();
        }
      };

      return (
        <div id="auth-popup" className="flex justify-center items-center">
          <div className="bg-white rounded-lg shadow-xl p-6 max-w-md w-full text-center">
            <i className="fas fa-lock text-blue-600 text-3xl mb-4"></i>
            <h2 className="text-2xl font-bold text-gray-800 mb-4">גישה מוגבלת</h2>
            <p className="text-base text-gray-600 mb-6">על מנת להיכנס לאתר, עליך להיות בין 21 החברים הרשומים כיום בחבר׳ה הטובים.</p>
            <p className="text-base text-gray-800 font-semibold mb-4">{question ? question.question : 'טוען שאלה...'}</p>
            <input
              type="text"
              value={answer}
              onChange={(e) => setAnswer(e.target.value)}
              onKeyPress={handleKeyPress}
              className="w-full p-2 border border-gray-300 rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-blue-600 text-base"
              placeholder="הזן תשובה"
            />
            <p className={`text-red-500 text-sm mb-4 ${error ? '' : 'hidden'}`}>תשובה שגויה. נסה שוב.</p>
            <button
              onClick={handleSubmit}
              className="custom-button px-6 py-2 font-bold w-full text-base"
            >
              אשר
            </button>
          </div>
        </div>
      );
    };

    const Nav = () => (
      <nav className="bg-white shadow-sm border-b border-gray-200">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16">
            <div className="flex items-center">
              <span className="logo">The Hevre Hatovim Inc.</span>
            </div>
            <div className="flex items-center space-x-4">
              <a href="#home" className="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-base font-medium transition">בית</a>
              <a href="#about" className="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-base font-medium transition">אודות</a>
              <a href="#contact" className="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-base font-medium transition">צור קשר</a>
            </div>
          </div>
        </div>
      </nav>
    );

    const Leadership = () => (
      <section className="leadership-section content-container">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h2 className="leadership-title">הנהגת החבר׳ה הטובים</h2>
          <div className="grid grid-cols-1 sm:grid-cols-3 gap-6">
            <div className="leadership-card">
              <img
                src="https://i.ibb.co/YYgWt7f/Screenshot-2025-05-23-at-10-12-15.png"
                alt="עמית לסרי"
                className="w-24 h-24 mx-auto mb-3 leader-image"
                onError={(e) => { console.log('Failed to load Amit Lasri image'); e.target.src = 'https://via.placeholder.com/128'; }}
              />
              <h3 className="text-lg font-bold text-gray-800">מנהיג הקבוצה: עמית לסרי</h3>
            </div>
            <div className="leadership-card">
              <img
                src="https://i.postimg.cc/c19xJLX7/Screenshot-2025-05-23-at-13-19-37.png"
                alt="יוסף קחלר"
                className="w-24 h-24 mx-auto mb-3 leader-image"
                onError={(e) => { console.log('Failed to load Yosef Kahler image'); e.target.src = 'https://via.placeholder.com/128'; }}
              />
              <h3 className="text-lg font-bold text-gray-800">מנהל שותף: יוסף קחלר</h3>
            </div>
            <div className="leadership-card">
              <img
                src="https://i.postimg.cc/xdxCsgbt/Screenshot-2025-05-23-at-10-48-37.png"
                alt="דביר אוחנה"
                className="w-24 h-24 mx-auto mb-3 leader-image"
                onError={(e) => { console.log('Failed to load Dvir Ohana image'); e.target.src = 'https://via.placeholder.com/128'; }}
              />
              <h3 className="text-lg font-bold text-gray-800">כוכב: דביר אוחנה</h3>
            </div>
          </div>
        </div>
      </section>
    );

    const Hero = () => (
      <section className="bg-white py-12 sm:py-20 content-container">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <h2 className="text-3xl sm:text-4xl font-bold text-gray-800 mb-6">ברוכים הבאים להחבר׳ה הטובים בגרסת ה-Web</h2>
          <p className="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">רשת חברתית ייחודית לחבר׳ה הטובים, המשלבת קהילה, תרבות וחדשנות.</p>
          <a href="#sections" className="custom-button inline-block px-8 py-3 font-bold text-lg">גלה את המדורים שלנו</a>
        </div>
      </section>
    );

    const Sections = () => (
      <section id="sections" className="py-12 sm:py-20 bg-gray-50 content-container">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <h3 className="text-3xl font-bold text-gray-800 text-center mb-12">המדורים שלנו</h3>
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div className="card">
              <h4 className="card-title">ויקיחברה</h4>
              <p className="text-base text-gray-600 mb-4 flex-grow">מאגר מידע מקיף על החברה שלנו, ההיסטוריה וההישגים שלה.</p>
              <a href="https://israelpolice.github.io/Balakif/pages/good-guys.html" className="custom-button inline-block px-6 py-2 font-bold text-base">לגלות עוד</a>
            </div>
            <div className="card">
              <h4 className="card-title">בן זונה של השנה</h4>
              <p className="text-base text-gray-600 mb-4 flex-grow">תוצאות התחרות השנתית שלנו לפי שנים, ההיסטוריה המלאה.</p>
              <a href="https://israelpolice.github.io/Balakif/pages/bhirot.html" className="custom-button inline-block px-6 py-2 font-bold text-base">צפה בתוצאות</a>
            </div>
            <div className="card">
              <h4 className="card-title">בלאקיף - צפייה ישירה</h4>
              <p className="text-base text-gray-600 mb-4 flex-grow">גישה לטרילוגיית סרטי בלאקיף, הזמינים לצפייה ישירה.</p>
              <a href="https://israelpolice.github.io/Balakif/pages/watchbalakif.html" className="custom-button inline-block px-6 py-2 font-bold text-base">צפה עכשיו</a>
            </div>
            <div className="card">
              <h4 className="card-title">אקינטור החבר׳ה</h4>
              <p className="text-base text-gray-600 mb-4 flex-grow">נסו לנצח את האקינטור, תחשבו על דמות מהחבר׳ה.</p>
              <a href="https://israelpolice.github.io/Balakif/goodguysakinator/index.html" className="custom-button inline-block px-6 py-2 font-bold text-base">למידע נוסף</a>
            </div>
          </div>
        </div>
      </section>
    );

    const Footer = () => (
      <footer className="bg-gray-800 text-white py-10 content-container">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <p className="text-sm">© 2025 The Hevre Hatovim Inc. כל הזכויות שמורות.</p>
          <div className="mt-4 space-x-4">
            <a href="#privacy" className="text-gray-400 hover:text-white transition text-sm">מדיניות פרטיות</a>
            <a href="#terms" className="text-gray-400 hover:text-white transition text-sm">תנאי שימוש</a>
            <a href="#contact" className="text-gray-400 hover:text-white transition text-sm">צור קשר</a>
          </div>
        </div>
      </footer>
    );

    const App = () => (
      <div>
        <AuthPopup />
        <Nav />
        <Leadership />
        <Hero />
        <Sections />
        <Footer />
      </div>
    );

    try {
      console.log('Attempting to create React root...');
      const root = ReactDOM.createRoot(document.getElementById('root'));
      console.log('Rendering React app...');
      root.render(<App />);
    } catch (error) {
      console.error('Error rendering React app:', error);
      document.getElementById('root').innerHTML = '<div id="error">שגיאה בטעינת האתר. אנא בדוק את הקונסולה ב-F12 לפרטים או נסה שוב מאוחר יותר.</div>';
    }
  </script>
</body>
</html>
